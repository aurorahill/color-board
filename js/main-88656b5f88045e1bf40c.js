(()=>{"use strict";const e=document.querySelector(".box"),t=document.querySelectorAll('[data-setting="speed"]'),o=document.querySelectorAll('[data-setting="color"]'),n=document.querySelector("#slider"),s=document.querySelector(".slider-info"),r=document.querySelector(".footer");let a=70,i=360,c="3s";const d=()=>{e.innerHTML="";for(let t=0;t<2e3;t++){const t=document.createElement("div");t.classList.add("square"),t.style.transitionDuration="0s",t.addEventListener("mouseover",(()=>l(t))),t.addEventListener("mouseout",(()=>u(t))),t.addEventListener("touchstart",(()=>{d(),l(t)})),t.addEventListener("touchmove",f),e.appendChild(t)}},l=e=>{let t;t=360===i?Math.floor(360*Math.random()):Math.floor(60*Math.random())+i;const o=n.value+"%";e.style.backgroundColor=`hsl(${t},${o},50%)`},u=e=>{e.style.transitionDuration=c,e.style.backgroundColor="transparent"};function h(){c=this.dataset.speed+"s"}function m(){i=parseInt(this.dataset.colorRange)}const v=()=>{a=n.value,s.textContent=n.value},f=e=>{const t=e.touches[0],o=document.elementFromPoint(t.clientX,t.clientY);o&&o.classList.contains("square")&&(l(o),setTimeout((()=>{u(o)}),50))};t.forEach((e=>e.addEventListener("click",h))),o.forEach((e=>e.addEventListener("click",m))),n.addEventListener("mousemove",v),n.addEventListener("touchmove",v),d();const E=()=>{const t=.02*innerHeight+6,o=(Math.floor((innerHeight-e.offsetTop)/t)-1)*t,n=innerHeight-e.offsetTop-o+1;r.style.height=n+"px"};E(),window.addEventListener("resize",E)})();