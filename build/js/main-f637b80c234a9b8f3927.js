(()=>{"use strict";const e=document.querySelector(".box"),t=document.querySelectorAll('[data-setting="speed"]'),n=document.querySelectorAll('[data-setting="color"]'),o=document.querySelector("#slider"),s=document.querySelector(".slider-info"),r=document.querySelector(".footer");let a=70,i=360,c="3s";const d=()=>{e.innerHTML="";for(let t=0;t<2e3;t++){const t=document.createElement("div");t.classList.add("square"),t.style.transitionDuration="0s",t.addEventListener("mouseover",(()=>l(t))),t.addEventListener("mouseout",(()=>u(t))),t.addEventListener("touchstart",(()=>{d(),l(t)})),t.addEventListener("touchmove",f),e.appendChild(t)}},l=e=>{let t;t=360===i?Math.floor(360*Math.random()):Math.floor(60*Math.random())+i;const n=o.value+"%";e.style.backgroundColor=`hsl(${t},${n},50%)`},u=e=>{e.style.transitionDuration=c,e.style.backgroundColor="transparent"};function h(){c=this.dataset.speed+"s"}function m(){i=parseInt(this.dataset.colorRange)}const v=()=>{a=o.value,s.textContent=o.value},f=e=>{e.preventDefault();const t=e.touches[0],n=document.elementFromPoint(t.clientX,t.clientY);n&&n.classList.contains("square")&&(l(n),setTimeout((()=>{u(n)}),50))};t.forEach((e=>e.addEventListener("click",h))),n.forEach((e=>e.addEventListener("click",m))),o.addEventListener("mousemove",v),o.addEventListener("touchmove",v),d();const E=()=>{const t=.03*innerHeight+6,n=(Math.floor((innerHeight-e.offsetTop)/t)-1)*t,o=innerHeight-e.offsetTop-n+1;r.style.height=o+"px"};E(),window.addEventListener("resize",E)})();